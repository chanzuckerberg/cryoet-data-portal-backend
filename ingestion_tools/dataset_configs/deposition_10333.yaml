alignments:
  - sources:
      - destination_glob:
          list_glob: "{run_output_path}/Alignments/100/alignment_metadata.json"
          match_regex: .*
          name_regex: (.*)

annotations:
  - metadata:
      annotation_method: manual particle picking using the copick-toolkit
      annotation_object:
        id: GO:0022626
        name: cytosolic ribosome
      annotation_software: chimerax-copick 1.4.1
      authors: &authors
        - name: Daniel Ji
          ORCID: 0009-0003-2008-9583
          primary_author_status: true
        - ORCID: 0000-0002-8063-6951
          primary_author_status: true
          name: Jonathan Schwartz
        - name: Utz Heinrich Ermel
          ORCID: 0000-0003-4685-037X
          primary_author_status: false
          corresponding_author_status: true
      dates: &dates
        deposition_date: "2025-09-17"
        last_modified_date: "2025-09-17"
        release_date: "2025-09-17"
      method_links:
        - custom_name: Copick on GitHub
          link: https://github.com/copick/copick
          link_type: source_code
        - custom_name: ChimeraX-copick on GitHub
          link: https://github.com/copick/chimerax-copick
          link_type: source_code
        - custom_name: Copick documentation
          link: https://copick.github.io/copick/
          link_type: source_code
      ground_truth_status: true
      is_curator_recommended: true
      method_type: manual
      version: 1.0
    sources:
      - Point:
          binning: 8.66
          file_format: copick
          glob_string: '{dataset_name}/ExperimentRuns/{run_name}/Picks/daniel.ji_1_ribosome.json'
          is_visualization_default: false
          columns: xyz

  - metadata:
      annotation_method: octopi particle prediction → RELION 5 subtomogram averaging and classification
      annotation_object:
        id: GO:0022626
        name: cytosolic ribosome
      annotation_software: octopi 1.2.0
      authors: *authors
      dates: *dates
      method_links:
        - custom_name: Octopi on GitHub
          link: https://github.com/chanzuckerberg/octopi
          link_type: source_code
        - custom_name: Octopi documentation
          link: https://chanzuckerberg.github.io/octopi/
          link_type: documentation
        - custom_name: RELION on GitHub
          link: https://github.com/3dem/relion
          link_type: source_code
      ground_truth_status: false
      is_curator_recommended: true
      method_type: automated
      version: 1.0
    sources:
      - OrientedPoint:
          binning: 8.66
          file_format: copick
          glob_string: '{dataset_name}/ExperimentRuns/{run_name}/Picks/relion_10426-41_ribosome.json'
          is_visualization_default: true
          mesh_source_path: '{dataset_name}/mesh/ribosome.glb'

datasets:
  - sources:
      - source_glob:
          list_glob: '10426'
          match_regex: '.*'
          name_regex: '(.*)'

depositions:
  - metadata:
      authors: *authors
      dates: *dates
      deposition_description:
        This deposition provides manual and automated annotations of cytosolic ribosomes in cryo-electron tomograms of
        unroofed human cells. Manual annotations were created using the copick-toolkit and used to train an octopi
        object detection model. The trained model was used to localize candidate particles, which were then subjected to
        subtomogram averaging and classification using RELION 5.0. The final set of automated annotations is the set of
        particles that contributed to the highest-quality ribosome average (7.5 Å final resolution).
      deposition_identifier: 10333
      deposition_title: Training annotations and octopi predictions of ribosomes in unroofed human cells
      deposition_types:
        - annotation
    sources:
      - literal:
          value:
            - 10333

deposition_keyphotos:
  - sources:
      - literal:
          value:
            snapshot: "cryoetportal-rawdatasets-dev/deposition_key_photos/deposition_10333_snapshot.png"
            thumbnail: "cryoetportal-rawdatasets-dev/deposition_key_photos/deposition_10333_thumbnail.png"

runs:
  - sources:
      - source_glob:
          list_glob: '{dataset_name}/ExperimentRuns/*'
          match_regex: '.*'
          name_regex: '(.*)'

standardization_config:
  deposition_id: 10333
  source_prefix: 'CZII/20250916_unroofing_ribosomes/'

version: 1.1.0
voxel_spacings:
  - sources:
      - destination_glob:
          list_glob: '{run_output_path}/Reconstructions/VoxelSpacing*'
          match_regex: .*
          name_regex: VoxelSpacing(.*)
